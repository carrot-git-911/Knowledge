.babelrc 和 babel.config.js

babel 7.x 以上开始支持两种类型的配置文件

`babel.config.js` 是在 babel 第七版引入的，主要是为了解决 babel6 中的一些问题
- babelrc 会在一些情况下，莫名的应用在 node_modules 中
- babelrc 的配置不能应用在使用符号链接引用进来的文件
- 在node_modules中的.babelrc会被检测到，即使它们中的插件和预设通常没有安装，也可能在Babel编译文件的版本中无效

核心区别

| 特性   | .babelrc 或 package.json 中的 babel 字段  | babel.config.js 或 .cjs、.mjs         |
| ---- | ------------------------------------ | ----------------------------------- |
| 作用范围 | 仅影响所在目录及其子目录的文件                      | 影响整个项目的文件                           |
| 主要用途 | 为项目的特定子目录/包设置覆盖规则                    | 为整个项目设置统一配置或基础规则                    |
| 加载位置 | 可在项目任意子目录放置                          | 通常只在项目根目录放置                         |
| 文件类型 | JSON 格式                              | JavaScript 模块                       |
| 推荐场景 | Monorepo 中子包需要独立配置  <br>特定文件夹需特殊编译规则 | 项目统一配置  <br>需编译 `node_modules` 中的代码 |


详细解析
`.babelrc` (或 `package.json` 中的 `babel` 字段)

作用机制


设计目的

局限

babel.config.js 或 （.cjs .mjs）

作用机制
- 只在项目根目录查找 babel.config.js
- 找到后该配置应用于整个项目，包括项目根目录、所有子目录以及 node_modules 目录下的文件（具体是否编译 `node_modules` 由 `overrides` 或 `exclude/include` 规则控制）。

设计目的
提供**项目级别的统一 Babel 配置入口**。它定义了项目编译的**基础规则**，可以根据环境、文件路径等条件进行更精细化的覆盖。

优势
统一管理
编译
动态配置
monorepo 配置

典型场景